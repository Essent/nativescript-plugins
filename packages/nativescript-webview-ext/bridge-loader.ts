export const fetchPolyfill: string =
  '!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.WHATWGFetch={})}(this,(function(exports){"use strict";var global="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==global&&global,support={searchParams:"URLSearchParams"in global,iterable:"Symbol"in global&&"iterator"in Symbol,blob:"FileReader"in global&&"Blob"in global&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in global,arrayBuffer:"ArrayBuffer"in global};if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\\-#$%&\'*+.^_`|~!]/i.test(name)||""===name)throw new TypeError(\'Invalid character in header field name: "\'+name+\'"\');return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach((function(value,name){this.append(name,value)}),this):Array.isArray(headers)?headers.forEach((function(header){this.append(header[0],header[1])}),this):headers&&Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){var obj;this.bodyUsed=this.bodyUsed,this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support.blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support.formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support.arrayBuffer&&support.blob&&((obj=body)&&DataView.prototype.isPrototypeOf(obj))?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var isConsumed=consumed(this);return isConsumed||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,reader,promise,rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return blob=this._bodyBlob,reader=new FileReader,promise=fileReaderReady(reader),reader.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach((function(value,name){items.push(name)})),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach((function(value){items.push(value)})),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach((function(value,name){items.push([name,value])})),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){if(!(this instanceof Request))throw new TypeError(\'Please use the "new" operator, this DOM object constructor cannot be called as a function.\');var method,upcased,body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=(method=options.method||this.method||"GET",upcased=method.toUpperCase(),methods.indexOf(upcased)>-1?upcased:method),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(body),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==options.cache&&"no-cache"!==options.cache)){var reParamSearch=/([?&])_=[^&]*/;if(reParamSearch.test(this.url))this.url=this.url.replace(reParamSearch,"$1_="+(new Date).getTime());else{this.url+=(/\\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function decode(body){var form=new FormData;return body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\\+/g," "),value=split.join("=").replace(/\\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}})),form}function Response(bodyInit,options){if(!(this instanceof Response))throw new TypeError(\'Please use the "new" operator, this DOM object constructor cannot be called as a function.\');options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===options.statusText?"":""+options.statusText,this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},exports.DOMException=global.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\\r?\\n[\\t ]+/g," ").split("\\r").map((function(header){return 0===header.indexOf("\\n")?header.substr(1,header.length):header})).forEach((function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}})),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;setTimeout((function(){resolve(new Response(body,options))}),0)},xhr.onerror=function(){setTimeout((function(){reject(new TypeError("Network request failed"))}),0)},xhr.ontimeout=function(){setTimeout((function(){reject(new TypeError("Network request failed"))}),0)},xhr.onabort=function(){setTimeout((function(){reject(new exports.DOMException("Aborted","AbortError"))}),0)},xhr.open(request.method,function(url){try{return""===url&&global.location.href?global.location.href:url}catch(e){return url}}(request.url),!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&(support.blob?xhr.responseType="blob":support.arrayBuffer&&request.headers.get("Content-Type")&&-1!==request.headers.get("Content-Type").indexOf("application/octet-stream")&&(xhr.responseType="arraybuffer")),!init||"object"!=typeof init.headers||init.headers instanceof Headers?request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)})):Object.getOwnPropertyNames(init.headers).forEach((function(name){xhr.setRequestHeader(name,normalizeValue(init.headers[name]))})),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)}))}fetch.polyfill=!0,global.fetch||(global.fetch=fetch,global.Headers=Headers,global.Request=Request,global.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}));';
export const promisePolyfill: string =
  '!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory():"function"==typeof define&&define.amd?define(factory):factory()}(0,(function(){"use strict";function finallyConstructor(callback){var constructor=this.constructor;return this.then((function(value){return constructor.resolve(callback()).then((function(){return value}))}),(function(reason){return constructor.resolve(callback()).then((function(){return constructor.reject(reason)}))}))}function allSettled(arr){return new this((function(resolve,reject){if(!arr||void 0===arr.length)return reject(new TypeError(typeof arr+" "+arr+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,(function(val){res(i,val)}),(function(e){args[i]={status:"rejected",reason:e},0==--remaining&&resolve(args)}))}args[i]={status:"fulfilled",value:val},0==--remaining&&resolve(args)}for(var i=0;i<args.length;i++)res(i,args[i])}))}function AggregateError(errors,message){this.name="AggregateError",this.errors=errors,this.message=message||""}function any(arr){var P=this;return new P((function(resolve,reject){if(!arr||void 0===arr.length)return reject(new TypeError("Promise.any accepts an array"));var args=Array.prototype.slice.call(arr);if(0===args.length)return reject();for(var rejectionReasons=[],i=0;i<args.length;i++)try{P.resolve(args[i]).then(resolve).catch((function(error){rejectionReasons.push(error),rejectionReasons.length===args.length&&reject(new AggregateError(rejectionReasons,"All promises were rejected"))}))}catch(ex){reject(ex)}}))}AggregateError.prototype=Error.prototype;var setTimeoutFunc=setTimeout;function isArray(x){return Boolean(x&&void 0!==x.length)}function noop(){}function Promise(fn){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;0!==self._state?(self._handled=!0,Promise._immediateFn((function(){var cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){var ret;try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}else(1===self._state?resolve:reject)(deferred.promise,self._value)}))):self._deferreds.push(deferred)}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve((fn=then,thisArg=newValue,function(){fn.apply(thisArg,arguments)}),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}var fn,thisArg}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn((function(){self._handled||Promise._unhandledRejectionFn(self._value)}));for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn((function(value){done||(done=!0,resolve(self,value))}),(function(reason){done||(done=!0,reject(self,reason))}))}catch(ex){if(done)return;done=!0,reject(self,ex)}}Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.prototype.finally=finallyConstructor,Promise.all=function(arr){return new Promise((function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.all accepts an array"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,(function(val){res(i,val)}),reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])}))},Promise.any=any,Promise.allSettled=allSettled,Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise((function(resolve){resolve(value)}))},Promise.reject=function(value){return new Promise((function(resolve,reject){reject(value)}))},Promise.race=function(arr){return new Promise((function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.race accepts an array"));for(var i=0,len=arr.length;i<len;i++)Promise.resolve(arr[i]).then(resolve,reject)}))},Promise._immediateFn="function"==typeof setImmediate&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)};var globalNS=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof globalNS.Promise?globalNS.Promise=Promise:(globalNS.Promise.prototype.finally||(globalNS.Promise.prototype.finally=finallyConstructor),globalNS.Promise.allSettled||(globalNS.Promise.allSettled=allSettled),globalNS.Promise.any||(globalNS.Promise.any=any))}));';
export const webViewBridge: string =
  'var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar};function getWkWebViewMessageHandler(){var _a,_b,w=window;if(null===(_b=null===(_a=null==w?void 0:w.webkit)||void 0===_a?void 0:_a.messageHandlers)||void 0===_b?void 0:_b.nsBridge)return w.webkit.messageHandlers.nsBridge;console.error("Cannot get the window.webkit.messageHandlers.nsBridge - we can\'t communicate with native-layer")}Object.keys||(Object.keys=function(){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("function"!=typeof obj&&("object"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var result=new Array;for(var prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(var i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),Object.entries||(Object.entries=function(obj){for(var ownProps=Object.keys(obj),i=ownProps.length,resArray=new Array(i);i--;)resArray[i]=[ownProps[i],obj[ownProps[i]]];return resArray});var NSWebViewBridge=function(){function NSWebViewBridge(){this.eventListenerMap={}}return Object.defineProperty(NSWebViewBridge.prototype,"androidWebViewBridge",{get:function(){if("undefined"!=typeof androidWebViewBridge)return androidWebViewBridge},enumerable:!1,configurable:!0}),NSWebViewBridge.prototype.onNativeEvent=function(eventName,data){var e_1,_a,events=this.eventListenerMap[eventName];if(null==events?void 0:events.length)try{for(var events_1=__values(events),events_1_1=events_1.next();!events_1_1.done;events_1_1=events_1.next()){var listener=events_1_1.value;if(!1===(null==listener?void 0:listener(data)))break}}catch(e_1_1){e_1={error:e_1_1}}finally{try{events_1_1&&!events_1_1.done&&(_a=events_1.return)&&_a.call(events_1)}finally{if(e_1)throw e_1.error}}},NSWebViewBridge.prototype.emitEventToIOS=function(eventName,data){var messageHandler=getWkWebViewMessageHandler();messageHandler?messageHandler.postMessage(JSON.stringify({eventName:eventName,data:data})):console.error("NSWebViewBridge only supports WKWebView")},NSWebViewBridge.prototype.emitEventToAndroid=function(eventName,data){var androidWebViewBridge=this.androidWebViewBridge;androidWebViewBridge?androidWebViewBridge.emitEvent(eventName,null!=data?data:"null"):console.error("Tried to emit to android without the androidWebViewBridge")},NSWebViewBridge.prototype.on=function(eventName,callback){callback&&(this.eventListenerMap[eventName]||(this.eventListenerMap[eventName]=[]),this.eventListenerMap[eventName].push(callback))},NSWebViewBridge.prototype.addEventListener=function(eventName,callback){this.on(eventName,callback)},NSWebViewBridge.prototype.off=function(eventName,callback){eventName?this.eventListenerMap[eventName]&&(callback?(this.eventListenerMap[eventName]=this.eventListenerMap[eventName].filter((function(oldCallback){return oldCallback!==callback})),0===this.eventListenerMap[eventName].length&&delete this.eventListenerMap[eventName]):delete this.eventListenerMap[eventName]):this.eventListenerMap={}},NSWebViewBridge.prototype.removeEventListener=function(eventName,callback){return this.off(eventName,callback)},NSWebViewBridge.prototype.emit=function(eventName,data){this.androidWebViewBridge?this.emitEventToAndroid(eventName,JSON.stringify(data)):this.emitEventToIOS(eventName,data)},NSWebViewBridge.prototype.injectJavaScriptFile=function(href){var _this=this,elId=this.elementIdFromHref(href);return document.getElementById(elId)?(console.log("".concat(elId," already exists")),Promise.resolve()):new Promise((function(resolve,reject){var scriptElement=document.createElement("script");scriptElement.async=!0,scriptElement.setAttribute("id",elId),scriptElement.addEventListener("error",(function(error){console.error("Failed to load ".concat(href," - error: ").concat(error)),reject(_this.serializeError(error)),scriptElement.parentElement&&scriptElement.parentElement.removeChild(scriptElement)})),scriptElement.addEventListener("load",(function(){console.info("Loaded ".concat(href)),window.requestAnimationFrame((function(){resolve()})),scriptElement.parentElement&&scriptElement.parentElement.removeChild(scriptElement)})),scriptElement.src=href,document.body.appendChild(scriptElement)}))},NSWebViewBridge.prototype.injectJavaScript=function(elId,scriptCode){return document.getElementById(elId)?(console.log("".concat(elId," already exists")),Promise.resolve()):new Promise((function(resolve,reject){var scriptElement=document.createElement("script");scriptElement.setAttribute("id",elId),scriptElement.addEventListener("error",(function(error){console.error("Failed to inject javascript- error: ".concat(error)),reject(error),scriptElement.parentElement&&scriptElement.parentElement.removeChild(scriptElement)})),scriptElement.text=scriptCode,document.body.appendChild(scriptElement),window.requestAnimationFrame((function(){return resolve()}))}))},NSWebViewBridge.prototype.injectStyleSheetFile=function(href,insertBefore){var elId=this.elementIdFromHref(href);return document.getElementById(elId)?(console.log("".concat(elId," already exists")),Promise.resolve()):new Promise((function(resolve,reject){var linkElement=document.createElement("link");linkElement.addEventListener("error",(function(error){console.error("Failed to load ".concat(href," - error: ").concat(error)),reject(error),linkElement.parentElement&&linkElement.parentElement.removeChild(linkElement)})),linkElement.addEventListener("load",(function(){console.info("Loaded ".concat(href)),window.requestAnimationFrame((function(){resolve()}))})),linkElement.setAttribute("id",elId),linkElement.setAttribute("rel","stylesheet"),linkElement.setAttribute("type","text/css"),linkElement.setAttribute("href",href),document.head&&(insertBefore&&document.head.childElementCount>0?document.head.insertBefore(linkElement,document.head.firstElementChild):document.head.appendChild(linkElement))}))},NSWebViewBridge.prototype.injectStyleSheet=function(elId,stylesheet,insertBefore){return document.getElementById(elId)?(console.log("".concat(elId," already exists")),Promise.resolve()):new Promise((function(resolve,reject){var _a,styleElement=document.createElement("style");styleElement.addEventListener("error",reject),styleElement.textContent=stylesheet,styleElement.setAttribute("id",elId);var parentElement=null!==(_a=document.head)&&void 0!==_a?_a:document.body;parentElement?(insertBefore&&parentElement.childElementCount>0?document.head.insertBefore(styleElement,parentElement.firstElementChild):document.head.appendChild(styleElement),resolve()):reject(new Error("Couldn\'t find parent element"))}))},NSWebViewBridge.prototype.executePromise=function(promise,eventName){return __awaiter(this,void 0,void 0,(function(){var data,err_1;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,promise];case 1:return data=_a.sent(),this.emit(eventName,{data:data}),[3,3];case 2:return err_1=_a.sent(),this.emitError(err_1,eventName),[3,3];case 3:return[2]}}))}))},NSWebViewBridge.prototype.emitError=function(err,eventName){void 0===eventName&&(eventName="web-error"),"object"==typeof err&&(null==err?void 0:err.message)?this.emit(eventName,{err:this.serializeError(err)}):this.emit(eventName,{err:err})},NSWebViewBridge.prototype.elementIdFromHref=function(href){return href.replace(/^[:]*:\\/\\//,"").replace(/[^a-z0-9]/g,"")},NSWebViewBridge.prototype.serializeError=function(error){var e_2,_a,res={name:error.name,message:error.message,stack:error.stack};try{for(var _b=__values(Object.entries(error)),_c=_b.next();!_c.done;_c=_b.next()){var _d=__read(_c.value,2),key=_d[0],value=_d[1];value instanceof HTMLElement||(key in res||(res[key]=value))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return res},NSWebViewBridge}(),nsBridgeReadyEventName="ns-bridge-ready";"nsWebViewBridge"in window||function(fn){window.nsWebViewBridge=new NSWebViewBridge,"complete"===document.readyState||"interactive"===document.readyState?setTimeout(fn,1):document.addEventListener("DOMContentLoaded",fn)}((function(){var e_3,_a;try{for(var _b=__values([nsBridgeReadyEventName,"ns-brige-ready"]),_c=_b.next();!_c.done;_c=_b.next()){var eventName=_c.value;"undefined"!=typeof CustomEvent?window.dispatchEvent(new CustomEvent(eventName,{detail:window.nsWebViewBridge})):window.dispatchEvent(new Event(eventName))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}}));';
export const metadataViewPort: string =
  '!function(window){var defaultViewPort={initialScale:1},document=window.document,meta=document.querySelector(\'head meta[name="viewport"]\');meta||((meta=document.createElement("meta")).setAttribute("name","viewport"),document.head.appendChild(meta));var viewPortValues=defaultViewPort;var _a=viewPortValues.initialScale,initialScale=void 0===_a?defaultViewPort.initialScale:_a,width=viewPortValues.width,height=viewPortValues.height,userScalable=viewPortValues.userScalable,minimumScale=viewPortValues.minimumScale,maximumScale=viewPortValues.maximumScale,content=["initial-scale=".concat(initialScale)];if(width&&content.push("width=".concat(width)),height&&content.push("height=".concat(height)),"boolean"==typeof userScalable)content.push("user-scalable=".concat(userScalable?"yes":"no"));else if("string"==typeof userScalable){var lcUserScalable="".concat(userScalable).toLowerCase();"yes"===lcUserScalable?content.push("user-scalable=yes"):"no"===lcUserScalable?content.push("user-scalable=no"):console.error("userScalable=".concat(JSON.stringify(userScalable)," is an unknown value"))}minimumScale&&content.push("minimum-scale=".concat(minimumScale)),maximumScale&&content.push("maximum-scale=".concat(maximumScale)),meta.setAttribute("content",content.join(", "))}(window);';
